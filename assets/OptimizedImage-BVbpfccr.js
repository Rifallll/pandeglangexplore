import{r as e,j as a,d as l,A as y,m as c,g as j}from"./index-BR_Jrb-N.js";const h=({src:t,alt:d,className:m,priority:u=!1,objectFit:r="cover",fallbackSrc:g="/placeholder.svg"})=>{const[f,s]=e.useState(!1),[o,i]=e.useState(!1),[p,n]=e.useState(t);e.useEffect(()=>{n(t),i(!1),s(!1)},[t]);const x=()=>{o||(i(!0),n(j(g)),s(!0))};return a.jsxs("div",{className:l("relative overflow-hidden bg-gray-200",m),children:[a.jsx(y,{children:!f&&!o&&a.jsx(c.div,{initial:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-gray-200 animate-pulse"})}),a.jsx(c.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},src:p,alt:d,loading:u?"eager":"lazy",onLoad:()=>s(!0),onError:x,className:l("w-full h-full transition-all duration-700",r==="cover"?"object-cover":r==="contain"?"object-contain":"object-fill",o?"opacity-50 grayscale p-8":"")})]})};export{h as O};
