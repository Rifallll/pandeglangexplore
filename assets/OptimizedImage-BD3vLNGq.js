import{r as t,j as e,d as c,A as y,m as d,g as A}from"./index-sVFYql8r.js";import{F as u}from"./constants-DL5v1fVR.js";const S=({src:a,alt:m,className:f,priority:p=!1,objectFit:i="cover",fallbackSrc:r,category:x="default"})=>{const[g,s]=t.useState(!1),[o,l]=t.useState(!1),[b,n]=t.useState(a);t.useEffect(()=>{n(a),l(!1),s(!1)},[a]);const h=()=>{if(!o){l(!0);const j=u[x]||u.default,v=r?A(r):j;n(v),s(!0)}};return e.jsxs("div",{className:c("relative overflow-hidden bg-muted",f),children:[e.jsx(y,{children:!g&&!o&&e.jsx(d.div,{initial:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-muted animate-pulse"})}),e.jsx(d.img,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},src:b,alt:m,loading:p?"eager":"lazy",onLoad:()=>s(!0),onError:h,className:c("w-full h-full transition-all duration-700",i==="cover"?"object-cover":i==="contain"?"object-contain":"object-fill")}),o&&e.jsx("div",{className:"absolute top-2 right-2 bg-black/50 text-[10px] text-white px-2 py-1 rounded-full backdrop-blur-sm",children:"Image Substitute"})]})};export{S as O};
